<html>
<script type="text/javascript">

// fibonacci function
// http://stackoverflow.com/questions/17329083/javascript-lazy-evaluation-fibonacci-function

var fib = function (a, b) {
  var c = a + b
  return { 
  	       "current": c, 
           "next": function () { 
           	  return fib(b, c) 
           	} 
         }
}

var x = fib(1,1);
console.log(x.current); // 2

var x = x.next();

console.log(x.current); // 3

var take = function(n, cons) {

    var res = []
    var mem = cons

    for (var i = 0; i < n; i++) {
      res.push(mem.current)
      mem = mem.next()
    }

    return res
}

console.log(take(10, fib(1,1)));
</script>
</html>
