<html>
<script>
// 2018-5-11 7:11PM from Jinan to Chengdu
// jimliu.net/2017/03/31/adventure-of-js-iterators-and-compare-to-observables/
// 使得构造拥有自定义迭代器的集合变得相当容易
var fakeArray = {
  _values: [1, 2, 3, 4, 5],
  [Symbol.iterator]() {

    var _values = this._values;
    var _index = 0;
    /*
    function fuck(){
       console.log("index: " + _index);
    };*/

    var fuck = function(){
      console.log("index: " + _index);
    };

    var iter = {
      next() {
        var it = {
          value: _values[_index],
          done: _index >= _values.length
        }; // end of temporary variable it
        if (!it.done) {
          _index++;
        }
        fuck();
        return it;
      } // end of next()
    }; // end of iter definition
    return iter;
  } // end of Symbol iterator
}

for (var n of fakeArray) {
  console.log(n)
}

</script>
</html>