<html>
<textarea id="raw" rows="70" cols="80">
</textarea>
<textarea id="result" rows="70" cols="80">
At Jerry.
</textarea>
<button onclick="myFunction()">Click me</button>
<script>

/*
![clipboard3](https://user-images.githubusercontent.com/5669954/32415087-7b4d8a06-c26e-11e7-9122-c818d5f31586.png)
*/


function getNodeTobeReplaced(current, parent, newPicUrl ){
	return {
		"current": current,
		"parent": parent,
		"newPicUrl": newPicUrl
	};
}

/*
wefsdfs
![clipboard3](https://user-images.githubusercontent.com/5669954/32415087-7b4d8a06-c26e-11e7-9122-c818d5f31586.png)
*/

var IMAGE_PATTERN = /^!\[(.*)\].*$/;

function extractImage(source,raw){
	const regex = /^.*clipboard.*$/g;
	var result = regex.exec(source);
	var splitted = source.split("\n");
	for( var i = 0; i < splitted.length; i++){
		raw.push(splitted[i]);
		var result = IMAGE_PATTERN.exec(splitted[i]);
		debugger;
	}
}

function myFunction(){
	var source = document.getElementById("raw");
	var html = source.value;
	var rawItem = [];
	extractImage(html,rawItem);
	debugger;
	var target = document.getElementById("result");
	target.value = div.innerHTML;
	copyToClipboard(target);
}

function copyToClipboard(node) {
  node.select();

  try {
    var successful = document.execCommand('copy');
    var msg = successful ? 'successful' : 'unsuccessful';
    alert('Copying text command was ' + msg);
  } catch (err) {
    alert('Oops, unable to copy: ' + msg);
  }
}


</script>
</html>